{"version":3,"sources":["App.js","index.js"],"names":["TextInput","props","tookInput","e","target","value","substring","length","charAt","inputRef","current","style","backgroundColor","scoreCallback","setTimeout","fillCallback","React","createRef","this","focus","textWidth","className","spellcheck","id","type","ref","onChange","Component","App","randSel","level","Math","floor","lvlwords","lexicon","toString","random","reloadTarget","setState","state","score","fontSize","mutateScore","diff","begin","begun","handleKeys","onKeyEvent","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iPAMMA,G,wDACL,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IAQPC,UAAY,SAACC,GACTA,EAAEC,OAAOC,QAAU,EAAKJ,MAAMG,OAAOE,UAAU,EAAGH,EAAEC,OAAOC,MAAME,QACb,MAAnDJ,EAAEC,OAAOC,MAAMG,OAAOL,EAAEC,OAAOC,MAAME,OAAO,IAC9C,EAAKE,SAASC,QAAQL,MAAQF,EAAEC,OAAOC,MAAMC,UAAU,EAAGH,EAAEC,OAAOC,MAAME,OAAO,GAChF,EAAKE,SAASC,QAAQC,MAAMC,gBAAkB,oBAC9C,EAAKX,MAAMY,eAAe,KAC1BC,YAAW,WACV,EAAKL,SAASC,QAAQC,MAAMC,gBAAkB,gBAC5C,MAEH,EAAKH,SAASC,QAAQL,MAAQ,GAG/B,EAAKI,SAASC,QAAQC,MAAMC,gBAAkB,cAG5CT,EAAEC,OAAOC,QAAU,EAAKJ,MAAMG,SAChC,EAAKH,MAAMc,eACX,EAAKd,MAAMY,cAAc,IACzB,EAAKJ,SAASC,QAAQL,MAAQ,KA1B/B,EAAKI,SAAWO,IAAMC,YAFJ,E,gEAMlBC,KAAKT,SAASC,QAAQS,U,+BA2BtB,OACC,2BAAOR,MAAOO,KAAKjB,MAAMmB,YAAaC,UAAU,QAC9CH,KAAKjB,MAAMG,OACZ,2BAAOkB,WAAW,QAAQX,MAAOO,KAAKjB,MAAMmB,YAAaG,GAAG,QAAQC,KAAK,OAAOC,IAAKP,KAAKT,SAAUiB,SAAUR,KAAKhB,UAAWmB,UAAU,c,GArCpHL,IAAMW,Y,IA2IfC,E,kDApEd,WAAY3B,GAAQ,IAAD,8BAClB,cAAMA,IAQP4B,QAAU,SAACC,GACVA,EAAQC,KAAKC,MAAMF,GACnB,IAAIG,EAAWC,EAAQJ,EAAMK,YAC7B,OAAOF,EAASF,KAAKC,MAAMD,KAAKK,SAAWH,EAAS1B,UAZlC,EAenB8B,aAAe,WACd,EAAKC,SAAS,CACblC,OAAQ,EAAKyB,QAAQ,EAAKU,MAAMC,UAjBf,EAqBnBpB,UAAY,WACX,MAAO,CACNqB,SAAUV,KAAKC,MAAM,IAAID,KAAKC,MAAM,EAAKO,MAAMC,QAAQL,WAAa,OAvBnD,EA2BnBO,YAAc,SAACC,GACX,EAAKJ,MAAMC,MAAQG,EAAO,EAC5B,EAAKL,SAAS,CACbE,MAAO,IAEC,EAAKD,MAAMC,MAAQG,EAAO,GACnC,EAAKL,SAAS,CACbE,MAAO,KAGR,EAAKF,SAAS,CACbE,MAAO,EAAKD,MAAMC,MAAQG,KAtCV,EA2CnBC,MAAQ,WACP,EAAKN,SAAS,CACbO,OAAO,KA3CR,EAAKN,MAAQ,CACZnC,OAAQ,EAAKyB,QAAQ,GACrBW,MAAO,EACPK,OAAO,GALU,E,qDAkDlB,OAAG3B,KAAKqB,MAAMM,MAEZ,kBAAC,EAAD,CAAW9B,aAAcG,KAAKmB,aAAcxB,cAAeK,KAAKwB,YAAatB,UAAWF,KAAKE,UAAWhB,OAAQc,KAAKqB,MAAMnC,SAI3H,6BACC,yBAAKiB,UAAU,UAAf,0BAGA,kBAAC,IAAD,CAAsByB,WAAY,CAAC,SAAUC,WAAY7B,KAAK0B,a,GA7DjD5B,IAAMW,WCvExBqB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.f1b90576.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport lexicon from './wordlist.json';\nimport './App.css';\n\nclass TextInput extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.inputRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.inputRef.current.focus();\n\t}\n\n\ttookInput = (e) => {\n\t\tif(e.target.value !== this.props.target.substring(0, e.target.value.length)) {\n\t\t\tif(e.target.value.charAt(e.target.value.length-1) !== ' ') {\n\t\t\t\tthis.inputRef.current.value = e.target.value.substring(0, e.target.value.length-1);\n\t\t\t\tthis.inputRef.current.style.backgroundColor = \"rgba(200,0,0,0.4)\";\n\t\t\t\tthis.props.scoreCallback(-0.15);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.inputRef.current.style.backgroundColor = \"transparent\";\n\t\t\t\t}, 1000);\n\t\t\t} else {\n\t\t\t\tthis.inputRef.current.value = '';\n\t\t\t}\n\t\t} else {\n\t\t\tthis.inputRef.current.style.backgroundColor = \"transparent\";\n\t\t}\n\n\t\tif(e.target.value === this.props.target) {\n\t\t\tthis.props.fillCallback();\n\t\t\tthis.props.scoreCallback(0.2);\n\t\t\tthis.inputRef.current.value = '';\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<label style={this.props.textWidth()} className=\"text\">\n\t\t\t\t{this.props.target}\n\t\t\t\t<input spellcheck=\"false\" style={this.props.textWidth()} id=\"input\" type=\"text\" ref={this.inputRef} onChange={this.tookInput} className=\"text\"/>\n\t\t\t</label>\n\t\t);\n\t}\n}\n\nTextInput.propTypes = {\n\ttarget: PropTypes.string,\n\ttextWidth: PropTypes.func,\n\tfillCallback: PropTypes.func,\n\tscoreCallback: PropTypes.func\n};\n\nfunction shuffle(passes, arr) {\n\tlet res = arr.slice(0);\n\tfor(;passes>0;passes--) {\n\t\tfor(let i = 0; i < res.length; i++) {\n\t\t\tif(Math.random() <= 0.5) {\n\t\t\t\tlet ch = res[i];\n\t\t\t\tres.splice(i, 1);\n\t\t\t\tres.unshift(ch);\n\t\t\t}\n\t\t}\n\t}\n\treturn res;\n}\n\nfunction zip(a1, a2) {\n\treturn a1.map((c, i) => {\n\t\treturn \"\" + c + a2[i];\n\t});\n}\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttarget: this.randSel(1),\n\t\t\tscore: 1,\n\t\t\tbegun: false\n\t\t};\n\t}\n\n\trandSel = (level) => {\n\t\tlevel = Math.floor(level);\n\t\tlet lvlwords = lexicon[level.toString()];\n\t\treturn lvlwords[Math.floor(Math.random() * lvlwords.length)];\n\t}\n\n\treloadTarget = () => {\n\t\tthis.setState({\n\t\t\ttarget: this.randSel(this.state.score)\n\t\t});\n\t}\n\n\ttextWidth = () => {\n\t\treturn {\n\t\t\tfontSize: Math.floor(100/Math.floor(this.state.score)).toString() + \"vw\"\n\t\t};\n\t}\n\n\tmutateScore = (diff) => {\n\t\tif(this.state.score + diff < 1) {\n\t\t\tthis.setState({\n\t\t\t\tscore: 1\n\t\t\t});\n\t\t} else if(this.state.score + diff > 19) {\n\t\t\tthis.setState({\n\t\t\t\tscore: 19\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tscore: this.state.score + diff\n\t\t\t});\n\t\t}\n\t}\n\n\tbegin = () => {\n\t\tthis.setState({\n\t\t\tbegun: true\n\t\t});\n\t}\n\n\trender() {\n\t\tif(this.state.begun) {\n\t\t\treturn (\n\t\t\t\t<TextInput fillCallback={this.reloadTarget} scoreCallback={this.mutateScore} textWidth={this.textWidth} target={this.state.target}/>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"banner\">\n\t\t\t\t\tPress [SPACE] to begin\n\t\t\t\t\t</div>\n\t\t\t\t\t<KeyboardEventHandler handleKeys={['space']} onKeyEvent={this.begin}>\n\t\t\t\t\t</KeyboardEventHandler>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}